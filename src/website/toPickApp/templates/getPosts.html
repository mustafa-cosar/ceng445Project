{% load static %}

<style media="screen">
    .icon {
        width: 20px;
        height: 20px;
    }
    .likepanel {
        align-items: flex-end;
    }
</style>

<div id="instanceID" class="w3-container w3-teal">
    <p>POSTS</p>
    <ul>
        {% for post in posts %}
        <li>
            <div>
                <strong>{{post.username}}</strong> --
                <strong>{{post.date|date:"D d M Y"}}</strong>
            </div>
            <div class="w3-border">
                {{post.posttext}}
            </div>
            <div class="likepanel">
                {% csrf_token %}
                <span>
                    <span id="{{post.id}}likecount">
                        {{post.likecount}}
                    </span>
                    {% if post.likeActive%}
                        {% if post.liked %}
                            <img id="{{post.id}}liked" class="icon" src="{% static 'icons/like_red.png' %}" alt="liked" onclick="likePost('{{post.likeID}}','{{post.id}}')"></img>
                        {% else %}
                            <img id="{{post.id}}liked" class="icon" src="{% static 'icons/like_white.png' %}" alt="notliked" onclick="likePost('{{post.likeID}}','{{post.id}}')"></img>
                        {% endif %}
                    {% else %}
                        {% if post.liked %}
                            <img class="icon" src="{% static 'icons/like_red.png' %}" alt="liked" >
                        {% else %}
                            <img class="icon" src="{% static 'icons/like_white.png' %}" alt="notliked">
                        {% endif %}
                    {% endif %}
                </span>
                <span>
                    <span id="{{post.id}}dislikecount">
                        {{post.dislikecount}}
                    </span>
                    {% if post.dislikeActive %}
                        {% if post.disliked %}
                            <img id="{{post.id}}disliked" class="icon" src="{% static 'icons/dislike_black.png' %}" alt="disliked" onclick="dislikePost('{{post.dislikeID}}','{{post.id}}')"></img>
                        {% else %}
                            <img id="{{post.id}}disliked" class="icon" src="{% static 'icons/dislike_white.png' %}" alt="notdisliked" onclick="dislikePost('{{post.dislikeID}}','{{post.id}}')"></img>
                        {% endif %}
                    {% else %}
                        {% if post.disliked %}
                            <img class="icon" src="{% static 'icons/dislike_black.png' %}" alt="disliked">
                        {% else %}
                            <img class="icon" src="{% static 'icons/dislike_white.png' %}" alt="notdisliked">
                        {% endif %}
                    {% endif %}
                </span>
            </div>
        </li>
        {% endfor %}
    </ul>
    <script src="{% static 'js/src/likePost.js' %}"></script>
    <script src="{% static 'js/src/dislikePost.js' %}"></script>
</div>
